doctype html
html(lang="en")
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no")
    title Dashboard

    // Bootstrap CSS (CDN)
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" crossorigin="anonymous")


    // custom CSS
    link(rel='stylesheet', href='/public/stylesheets/styles.css')

  body.app-bg
    // Top navigation / header
    header.bg-white.shadow-sm
      .container-fluid.p-2.d-flex.align-items-center.justify-content-between
        .d-flex.align-items-center.gap-3
          h4.mb-0.text-primary Dashboard
        // Tab navigation (large)
        nav#topTabs.nav
          ul.nav.nav-tabs.mb-0
            li.nav-item
              a.nav-link(href='/admin/services', data-ajax='true', role='tab', id='tab-services') Services
            li.nav-item
              a.nav-link(href='/admin/printers', data-ajax='true', role='tab', id='tab-printers') Printers
            li.nav-item
              a.nav-link(href='/admin/stock', data-ajax='true', role='tab', id='tab-stock') Stock
            li.nav-item
              a.nav-link(href='/admin/users', data-ajax='true', role='tab', id='tab-users') Users
            li.nav-item
              a.nav-link(href='/admin/messaging', data-ajax='true', role='tab', id='tab-messaging') Messaging
            li.nav-item
              a.nav-link(href='/admin/records', data-ajax='true', role='tab', id='tab-records') Records

    // Main content container
    main.container.py-4#main-content
      // initial server-side content will render here (Services by default)
      block content

    // Toast placeholder (global)
    // kept outside main-content so it persists across tab swaps
    div#assignToastWrapper(style="position: fixed; z-index: 1080; bottom: 1rem; right: 1rem;")
      .toast(role='alert' aria-live='assertive' aria-atomic='true' id='assignToast')
        .toast-header
          strong.me-auto.text-success Success
          small.text-muted.ms-2 Now
          button.btn-close.ms-2.mb-1(type='button', data-bs-dismiss='toast', aria-label='Close')
        .toast-body#assignToastBody
          | Price assigned successfully.

    // Bootstrap JS bundle
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous")
    // our client-side navigator / initializers
    script(src='/public/javascripts/toast.js')
    script(src='/public/javascripts/dashboard_nav.js')
    script(src='/public/javascripts/forms_spinner.js')
    script(src='/public/javascripts/edit_items.js')
    script(src='/public/javascripts/delete_modal.js')
    script(src='/public/javascripts/services_admin.js')

    // -- Placeholder for page-specific scripts --
    // Views that use `block append scripts` will inject their scripts here.
    block scripts
